{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.windowWhen = void 0;\n\nvar Subject_1 = require(\"../Subject\");\n\nvar lift_1 = require(\"../util/lift\");\n\nvar OperatorSubscriber_1 = require(\"./OperatorSubscriber\");\n\nvar innerFrom_1 = require(\"../observable/innerFrom\");\n\nfunction windowWhen(closingSelector) {\n  return lift_1.operate(function (source, subscriber) {\n    var window;\n    var closingSubscriber;\n\n    var handleError = function (err) {\n      window.error(err);\n      subscriber.error(err);\n    };\n\n    var openWindow = function () {\n      closingSubscriber === null || closingSubscriber === void 0 ? void 0 : closingSubscriber.unsubscribe();\n      window === null || window === void 0 ? void 0 : window.complete();\n      window = new Subject_1.Subject();\n      subscriber.next(window.asObservable());\n      var closingNotifier;\n\n      try {\n        closingNotifier = innerFrom_1.innerFrom(closingSelector());\n      } catch (err) {\n        handleError(err);\n        return;\n      }\n\n      closingNotifier.subscribe(closingSubscriber = OperatorSubscriber_1.createOperatorSubscriber(subscriber, openWindow, openWindow, handleError));\n    };\n\n    openWindow();\n    source.subscribe(OperatorSubscriber_1.createOperatorSubscriber(subscriber, function (value) {\n      return window.next(value);\n    }, function () {\n      window.complete();\n      subscriber.complete();\n    }, handleError, function () {\n      closingSubscriber === null || closingSubscriber === void 0 ? void 0 : closingSubscriber.unsubscribe();\n      window = null;\n    }));\n  });\n}\n\nexports.windowWhen = windowWhen;","map":{"version":3,"names":["Object","defineProperty","exports","value","windowWhen","Subject_1","require","lift_1","OperatorSubscriber_1","innerFrom_1","closingSelector","operate","source","subscriber","window","closingSubscriber","handleError","err","error","openWindow","unsubscribe","complete","Subject","next","asObservable","closingNotifier","innerFrom","subscribe","createOperatorSubscriber"],"sources":["/Users/sabina-mariapintilie/Documents/Angular/MagazinOnline/node_modules/rxjs/dist/cjs/internal/operators/windowWhen.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.windowWhen = void 0;\nvar Subject_1 = require(\"../Subject\");\nvar lift_1 = require(\"../util/lift\");\nvar OperatorSubscriber_1 = require(\"./OperatorSubscriber\");\nvar innerFrom_1 = require(\"../observable/innerFrom\");\nfunction windowWhen(closingSelector) {\n    return lift_1.operate(function (source, subscriber) {\n        var window;\n        var closingSubscriber;\n        var handleError = function (err) {\n            window.error(err);\n            subscriber.error(err);\n        };\n        var openWindow = function () {\n            closingSubscriber === null || closingSubscriber === void 0 ? void 0 : closingSubscriber.unsubscribe();\n            window === null || window === void 0 ? void 0 : window.complete();\n            window = new Subject_1.Subject();\n            subscriber.next(window.asObservable());\n            var closingNotifier;\n            try {\n                closingNotifier = innerFrom_1.innerFrom(closingSelector());\n            }\n            catch (err) {\n                handleError(err);\n                return;\n            }\n            closingNotifier.subscribe((closingSubscriber = OperatorSubscriber_1.createOperatorSubscriber(subscriber, openWindow, openWindow, handleError)));\n        };\n        openWindow();\n        source.subscribe(OperatorSubscriber_1.createOperatorSubscriber(subscriber, function (value) { return window.next(value); }, function () {\n            window.complete();\n            subscriber.complete();\n        }, handleError, function () {\n            closingSubscriber === null || closingSubscriber === void 0 ? void 0 : closingSubscriber.unsubscribe();\n            window = null;\n        }));\n    });\n}\nexports.windowWhen = windowWhen;\n"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,UAAR,GAAqB,KAAK,CAA1B;;AACA,IAAIC,SAAS,GAAGC,OAAO,CAAC,YAAD,CAAvB;;AACA,IAAIC,MAAM,GAAGD,OAAO,CAAC,cAAD,CAApB;;AACA,IAAIE,oBAAoB,GAAGF,OAAO,CAAC,sBAAD,CAAlC;;AACA,IAAIG,WAAW,GAAGH,OAAO,CAAC,yBAAD,CAAzB;;AACA,SAASF,UAAT,CAAoBM,eAApB,EAAqC;EACjC,OAAOH,MAAM,CAACI,OAAP,CAAe,UAAUC,MAAV,EAAkBC,UAAlB,EAA8B;IAChD,IAAIC,MAAJ;IACA,IAAIC,iBAAJ;;IACA,IAAIC,WAAW,GAAG,UAAUC,GAAV,EAAe;MAC7BH,MAAM,CAACI,KAAP,CAAaD,GAAb;MACAJ,UAAU,CAACK,KAAX,CAAiBD,GAAjB;IACH,CAHD;;IAIA,IAAIE,UAAU,GAAG,YAAY;MACzBJ,iBAAiB,KAAK,IAAtB,IAA8BA,iBAAiB,KAAK,KAAK,CAAzD,GAA6D,KAAK,CAAlE,GAAsEA,iBAAiB,CAACK,WAAlB,EAAtE;MACAN,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAK,KAAK,CAAnC,GAAuC,KAAK,CAA5C,GAAgDA,MAAM,CAACO,QAAP,EAAhD;MACAP,MAAM,GAAG,IAAIT,SAAS,CAACiB,OAAd,EAAT;MACAT,UAAU,CAACU,IAAX,CAAgBT,MAAM,CAACU,YAAP,EAAhB;MACA,IAAIC,eAAJ;;MACA,IAAI;QACAA,eAAe,GAAGhB,WAAW,CAACiB,SAAZ,CAAsBhB,eAAe,EAArC,CAAlB;MACH,CAFD,CAGA,OAAOO,GAAP,EAAY;QACRD,WAAW,CAACC,GAAD,CAAX;QACA;MACH;;MACDQ,eAAe,CAACE,SAAhB,CAA2BZ,iBAAiB,GAAGP,oBAAoB,CAACoB,wBAArB,CAA8Cf,UAA9C,EAA0DM,UAA1D,EAAsEA,UAAtE,EAAkFH,WAAlF,CAA/C;IACH,CAdD;;IAeAG,UAAU;IACVP,MAAM,CAACe,SAAP,CAAiBnB,oBAAoB,CAACoB,wBAArB,CAA8Cf,UAA9C,EAA0D,UAAUV,KAAV,EAAiB;MAAE,OAAOW,MAAM,CAACS,IAAP,CAAYpB,KAAZ,CAAP;IAA4B,CAAzG,EAA2G,YAAY;MACpIW,MAAM,CAACO,QAAP;MACAR,UAAU,CAACQ,QAAX;IACH,CAHgB,EAGdL,WAHc,EAGD,YAAY;MACxBD,iBAAiB,KAAK,IAAtB,IAA8BA,iBAAiB,KAAK,KAAK,CAAzD,GAA6D,KAAK,CAAlE,GAAsEA,iBAAiB,CAACK,WAAlB,EAAtE;MACAN,MAAM,GAAG,IAAT;IACH,CANgB,CAAjB;EAOH,CA9BM,CAAP;AA+BH;;AACDZ,OAAO,CAACE,UAAR,GAAqBA,UAArB"},"metadata":{},"sourceType":"script"}