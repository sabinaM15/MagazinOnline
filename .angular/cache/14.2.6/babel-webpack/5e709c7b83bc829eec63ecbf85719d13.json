{"ast":null,"code":"import { __decorate } from 'tslib';\nimport { Component, EventEmitter, ViewChild, Output, Input, ViewEncapsulation, NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { Subject } from 'rxjs';\nimport * as ɵngcc0 from '@angular/core';\nconst _c0 = [\"starMain\"];\nlet RatingComponent = class RatingComponent {\n  constructor() {}\n\n  ngOnInit() {}\n\n};\n\nRatingComponent.ɵfac = function RatingComponent_Factory(t) {\n  return new (t || RatingComponent)();\n};\n\nRatingComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n  type: RatingComponent,\n  selectors: [[\"lib-rating\"]],\n  decls: 2,\n  vars: 0,\n  template: function RatingComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵelementStart(0, \"p\");\n      ɵngcc0.ɵɵtext(1, \" rating works! \");\n      ɵngcc0.ɵɵelementEnd();\n    }\n  },\n  encapsulation: 2\n});\nvar StarRatingComponent_1;\nlet StarRatingComponent = StarRatingComponent_1 = class StarRatingComponent {\n  constructor() {\n    this.stars = [];\n    this._readOnly = false;\n    this._totalStars = 5;\n    this.rate = new EventEmitter();\n    this.onStarsCountChange = new Subject();\n    this.onStarsCountChange.subscribe(() => {\n      this.setStars();\n      this.generateRating(true);\n      this.applySizeAllStars();\n      this.applyColorStyleAllStars(false);\n      this.addEvents();\n    });\n    this.onValueChange = new Subject();\n    this.onValueChange.subscribe(() => {\n      this.generateRating();\n      this.applySizeAllStars();\n    });\n    this.onCheckedColorChange = new Subject();\n    this.onCheckedColorChange.subscribe(() => {\n      this.applyColorStyleAllStars(true);\n    });\n    this.onUnCheckedColorChange = new Subject();\n    this.onUnCheckedColorChange.subscribe(() => {\n      this.applyColorStyleAllStars(false);\n    });\n    this.onSizeChange = new Subject();\n    this.onSizeChange.subscribe(() => {\n      this.applySizeAllStars();\n    });\n    this.onReadOnlyChange = new Subject();\n    this.onReadOnlyChange.subscribe(() => {\n      this.readonly ? this.makeReadOnly() : this.makeEditable();\n    });\n  }\n\n  get checkedcolor() {\n    return this._checkedColor;\n  }\n\n  get uncheckedcolor() {\n    return this._unCheckedColor;\n  }\n\n  get value() {\n    return this._value;\n  }\n\n  get size() {\n    return this._size.concat(!this._size.includes(\"px\") ? \"px\" : \"\");\n  }\n\n  get readonly() {\n    return String(this._readOnly) === \"true\";\n  }\n\n  get totalstars() {\n    return this._totalStars;\n  }\n\n  set checkedcolor(value) {\n    this._checkedColor = value;\n    this._checkedColor && this.onCheckedColorChange.next(this._checkedColor);\n  }\n\n  set uncheckedcolor(value) {\n    this._unCheckedColor = value;\n    this._unCheckedColor && this.onUnCheckedColorChange.next(this._unCheckedColor);\n  }\n\n  set value(value) {\n    value = !value || value == null ? 0 : value;\n    this._value = value;\n    this._value >= 0 && this.onValueChange.next(this._value);\n  }\n\n  set size(value) {\n    value = !value || value == null || value == \"0px\" ? \"24px\" : value;\n    this._size = value;\n    this.onSizeChange.next(this._size);\n  }\n\n  set readonly(value) {\n    this._readOnly = value;\n    this.onReadOnlyChange.next(value);\n  }\n\n  set totalstars(value) {\n    this._totalStars = value <= 0 ? 5 : Math.round(value);\n    this.onStarsCountChange.next(this._totalStars);\n  }\n\n  makeEditable() {\n    if (!this.mainElement) return;\n    this.mainElement.nativeElement.style.cursor = \"pointer\";\n    this.mainElement.nativeElement.title = this.value;\n    this.stars.forEach(star => {\n      star.style.cursor = \"pointer\";\n      star.title = star.dataset.index;\n    });\n  }\n\n  makeReadOnly() {\n    if (!this.mainElement) return;\n    this.mainElement.nativeElement.style.cursor = \"default\";\n    this.mainElement.nativeElement.title = this.value;\n    this.stars.forEach(star => {\n      star.style.cursor = \"default\";\n      star.title = \"\";\n    });\n  }\n\n  addEvents() {\n    if (!this.mainElement) return;\n    this.mainElement.nativeElement.addEventListener('mouseleave', this.offStar.bind(this));\n    this.mainElement.nativeElement.style.cursor = \"pointer\";\n    this.mainElement.nativeElement.title = this.value;\n    this.stars.forEach(star => {\n      star.addEventListener('click', this.onRate.bind(this));\n      star.addEventListener('mouseenter', this.onStar.bind(this));\n      star.style.cursor = \"pointer\";\n      star.title = star.dataset.index;\n    });\n  }\n\n  ngAfterViewInit() {}\n\n  onRate(event) {\n    if (this.readonly) return;\n    let star = event.srcElement;\n    let oldValue = this.value;\n    this.value = parseInt(star.dataset.index); // if (this.value == 0) {\n    //   this.value = 1;\n    // }\n\n    let rateValues = {\n      oldValue: oldValue,\n      newValue: this.value,\n      starRating: this\n    };\n    this.rate.emit(rateValues);\n  }\n\n  onStar(event) {\n    if (this.readonly) return;\n    let star = event.srcElement;\n    let currentIndex = parseInt(star.dataset.index);\n\n    for (let index = 0; index < currentIndex; index++) {\n      this.stars[index].className = \"\";\n      this.addDefaultClass(this.stars[index]);\n      this.addCheckedStarClass(this.stars[index]);\n    }\n\n    for (let index = currentIndex; index < this.stars.length; index++) {\n      this.stars[index].className = \"\";\n      this.addDefaultClass(this.stars[index]);\n    }\n  }\n\n  offStar(event) {\n    this.generateRating();\n  }\n\n  addDefaultClass(star) {\n    star.classList.add(StarRatingComponent_1.CLS_DEFAULT_STAR);\n  }\n\n  addCheckedStarClass(star) {\n    star.classList.add(StarRatingComponent_1.CLS_CHECKED_STAR);\n  }\n\n  addHalfStarClass(star) {\n    star.classList.add(StarRatingComponent_1.CLS_HALF_STAR);\n  }\n\n  setStars() {\n    if (!this.mainElement) return;\n    let starContainer = this.mainElement.nativeElement;\n    let maxStars = [...Array(Number(this.totalstars)).keys()];\n    this.stars.length = 0;\n    starContainer.innerHTML = \"\";\n    maxStars.forEach(starNumber => {\n      let starElement = document.createElement(\"span\");\n      starElement.dataset.index = (starNumber + 1).toString();\n      starElement.title = starElement.dataset.index;\n      starContainer.appendChild(starElement);\n      this.stars.push(starElement);\n    });\n  }\n\n  applySizeAllStars() {\n    if (this._size) {\n      this.stars.length == 0 && this.setStars();\n      this.stars.forEach(star => {\n        let newSize = this.size.match(/\\d+/)[0];\n        let halfSize = parseInt(newSize) * 10 / 24;\n        let halfMargin = 0 - parseInt(newSize) * 20 / 24;\n        star.style.setProperty(StarRatingComponent_1.VAR_SIZE, this.size);\n\n        if (star.classList.contains(StarRatingComponent_1.CLS_HALF_STAR)) {\n          star.style.setProperty(StarRatingComponent_1.VAR_HALF_WIDTH, `${halfSize}px`);\n          star.style.setProperty(StarRatingComponent_1.VAR_HALF_MARGIN, `${halfMargin}px`);\n        }\n      });\n    }\n  }\n\n  applyColorStyleAllStars(setChecked) {\n    this.stars.length == 0 && this.setStars();\n    this.stars.forEach(star => {\n      if (setChecked) {\n        this.applyCheckedColorStyle(star);\n      } else {\n        this.applyUnCheckedColorStyle(star);\n      }\n    });\n  }\n\n  applyColorStyle(starElement) {\n    this.applyCheckedColorStyle(starElement);\n    this.applyUnCheckedColorStyle(starElement);\n  }\n\n  applyCheckedColorStyle(starElement) {\n    starElement.style.setProperty(StarRatingComponent_1.VAR_CHECKED_COLOR, this.checkedcolor);\n  }\n\n  applyUnCheckedColorStyle(starElement) {\n    starElement.style.setProperty(StarRatingComponent_1.VAR_UNCHECKED_COLOR, this.uncheckedcolor);\n  }\n\n  generateRating(forceGenerate = false) {\n    if (!this.mainElement) return;\n    if (this.readonly && !forceGenerate) return; //if (this.value >= 0) {\n\n    this.stars.length == 0 && this.setStars();\n    this.mainElement.nativeElement.title = this.value;\n    let hasDecimals = (Number.parseFloat(this.value.toString()) % 1).toString().substring(3, 2) ? true : false;\n    let i = 1;\n    this.stars.forEach(star => {\n      star.className = \"\";\n      this.applyColorStyle(star);\n      this.addDefaultClass(star);\n\n      if (this.value >= i) {\n        // star on\n        this.addCheckedStarClass(star);\n      } else {\n        // half star\n        if (hasDecimals) {\n          this.addHalfStarClass(star);\n          hasDecimals = false;\n        }\n      }\n\n      i++;\n    }); //}\n  }\n\n};\n\nStarRatingComponent.ɵfac = function StarRatingComponent_Factory(t) {\n  return new (t || StarRatingComponent)();\n};\n\nStarRatingComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n  type: StarRatingComponent,\n  selectors: [[\"star-rating\"]],\n  viewQuery: function StarRatingComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵviewQuery(_c0, 7);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.mainElement = _t.first);\n    }\n  },\n  inputs: {\n    checkedcolor: \"checkedcolor\",\n    uncheckedcolor: \"uncheckedcolor\",\n    value: \"value\",\n    size: \"size\",\n    readonly: \"readonly\",\n    totalstars: \"totalstars\"\n  },\n  outputs: {\n    rate: \"rate\"\n  },\n  decls: 2,\n  vars: 0,\n  consts: [[\"starMain\", \"\"]],\n  template: function StarRatingComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵelement(0, \"div\", null, 0);\n    }\n  },\n  styles: [\":root{--checkedColor:gold;--unCheckedColor:gray;--size:24px;--halfWidth:10px;--halfMargin:-20px}.star{cursor:pointer;color:var(--unCheckedColor);font-size:var(--size);width:var(--size);display:inline-block}.star:last-child{margin-right:0}.star:before{content:'\\\\2605'}.star.on{color:var(--checkedColor)}.star.half:after{content:'\\\\2605';color:var(--checkedColor);position:absolute;margin-left:var(--halfMargin);width:var(--halfWidth);overflow:hidden}\"],\n  encapsulation: 3\n});\nStarRatingComponent.VAR_CHECKED_COLOR = '--checkedColor';\nStarRatingComponent.VAR_UNCHECKED_COLOR = '--unCheckedColor';\nStarRatingComponent.VAR_SIZE = '--size';\nStarRatingComponent.VAR_HALF_WIDTH = '--halfWidth';\nStarRatingComponent.VAR_HALF_MARGIN = '--halfMargin';\nStarRatingComponent.CLS_CHECKED_STAR = 'on';\nStarRatingComponent.CLS_DEFAULT_STAR = 'star';\nStarRatingComponent.CLS_HALF_STAR = 'half';\nStarRatingComponent.INP_CHECKED_COLOR = 'checkedcolor';\nStarRatingComponent.INP_UNCHECKED_COLOR = 'uncheckedcolor';\nStarRatingComponent.INP_VALUE = 'value';\nStarRatingComponent.INP_SIZE = 'size';\nStarRatingComponent.INP_READONLY = 'readonly';\nStarRatingComponent.INP_TOTALSTARS = 'totalstars';\n\n__decorate([ViewChild('starMain', {\n  static: true\n})], StarRatingComponent.prototype, \"mainElement\", void 0);\n\n__decorate([Output()], StarRatingComponent.prototype, \"rate\", void 0);\n\n__decorate([Input(StarRatingComponent_1.INP_CHECKED_COLOR)], StarRatingComponent.prototype, \"checkedcolor\", null);\n\n__decorate([Input(StarRatingComponent_1.INP_UNCHECKED_COLOR)], StarRatingComponent.prototype, \"uncheckedcolor\", null);\n\n__decorate([Input(StarRatingComponent_1.INP_VALUE)], StarRatingComponent.prototype, \"value\", null);\n\n__decorate([Input(StarRatingComponent_1.INP_SIZE)], StarRatingComponent.prototype, \"size\", null);\n\n__decorate([Input(StarRatingComponent_1.INP_READONLY)], StarRatingComponent.prototype, \"readonly\", null);\n\n__decorate([Input(StarRatingComponent_1.INP_TOTALSTARS)], StarRatingComponent.prototype, \"totalstars\", null);\n\nlet RatingModule = class RatingModule {\n  ngDoBootstrap() {}\n\n};\n\nRatingModule.ɵfac = function RatingModule_Factory(t) {\n  return new (t || RatingModule)();\n};\n\nRatingModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n  type: RatingModule\n});\nRatingModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n  imports: [FormsModule, CommonModule]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(RatingComponent, [{\n    type: Component,\n    args: [{\n      selector: 'lib-rating',\n      template: `\n    <p>\n      rating works!\n    </p>\n  `\n    }]\n  }], function () {\n    return [];\n  }, null);\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(StarRatingComponent, [{\n    type: Component,\n    args: [{\n      selector: 'star-rating',\n      template: \"<div #starMain>\\n</div>\",\n      encapsulation: ViewEncapsulation.ShadowDom,\n      styles: [\":root{--checkedColor:gold;--unCheckedColor:gray;--size:24px;--halfWidth:10px;--halfMargin:-20px}.star{cursor:pointer;color:var(--unCheckedColor);font-size:var(--size);width:var(--size);display:inline-block}.star:last-child{margin-right:0}.star:before{content:'\\\\2605'}.star.on{color:var(--checkedColor)}.star.half:after{content:'\\\\2605';color:var(--checkedColor);position:absolute;margin-left:var(--halfMargin);width:var(--halfWidth);overflow:hidden}\"]\n    }]\n  }], function () {\n    return [];\n  }, {\n    rate: [{\n      type: Output\n    }],\n    checkedcolor: [{\n      type: Input,\n      args: [StarRatingComponent_1.INP_CHECKED_COLOR]\n    }],\n    uncheckedcolor: [{\n      type: Input,\n      args: [StarRatingComponent_1.INP_UNCHECKED_COLOR]\n    }],\n    value: [{\n      type: Input,\n      args: [StarRatingComponent_1.INP_VALUE]\n    }],\n    size: [{\n      type: Input,\n      args: [StarRatingComponent_1.INP_SIZE]\n    }],\n    readonly: [{\n      type: Input,\n      args: [StarRatingComponent_1.INP_READONLY]\n    }],\n    totalstars: [{\n      type: Input,\n      args: [StarRatingComponent_1.INP_TOTALSTARS]\n    }],\n    mainElement: [{\n      type: ViewChild,\n      args: ['starMain', {\n        static: true\n      }]\n    }]\n  });\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(RatingModule, [{\n    type: NgModule,\n    args: [{\n      imports: [FormsModule, CommonModule],\n      declarations: [RatingComponent, StarRatingComponent],\n      exports: [StarRatingComponent],\n      entryComponents: [StarRatingComponent]\n    }]\n  }], null, null);\n})();\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(RatingModule, {\n    declarations: function () {\n      return [RatingComponent, StarRatingComponent];\n    },\n    imports: function () {\n      return [FormsModule, CommonModule];\n    },\n    exports: function () {\n      return [StarRatingComponent];\n    }\n  });\n})();\n/*\r\n * Public API Surface of rating\r\n */\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\n\nexport { RatingModule, StarRatingComponent, RatingComponent as ɵa };","map":{"version":3,"names":["__decorate","Component","EventEmitter","ViewChild","Output","Input","ViewEncapsulation","NgModule","FormsModule","CommonModule","Subject","ɵngcc0","_c0","RatingComponent","constructor","ngOnInit","ɵfac","RatingComponent_Factory","t","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","template","RatingComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","encapsulation","StarRatingComponent_1","StarRatingComponent","stars","_readOnly","_totalStars","rate","onStarsCountChange","subscribe","setStars","generateRating","applySizeAllStars","applyColorStyleAllStars","addEvents","onValueChange","onCheckedColorChange","onUnCheckedColorChange","onSizeChange","onReadOnlyChange","readonly","makeReadOnly","makeEditable","checkedcolor","_checkedColor","uncheckedcolor","_unCheckedColor","value","_value","size","_size","concat","includes","String","totalstars","next","Math","round","mainElement","nativeElement","style","cursor","title","forEach","star","dataset","index","addEventListener","offStar","bind","onRate","onStar","ngAfterViewInit","event","srcElement","oldValue","parseInt","rateValues","newValue","starRating","emit","currentIndex","className","addDefaultClass","addCheckedStarClass","length","classList","add","CLS_DEFAULT_STAR","CLS_CHECKED_STAR","addHalfStarClass","CLS_HALF_STAR","starContainer","maxStars","Array","Number","keys","innerHTML","starNumber","starElement","document","createElement","toString","appendChild","push","newSize","match","halfSize","halfMargin","setProperty","VAR_SIZE","contains","VAR_HALF_WIDTH","VAR_HALF_MARGIN","setChecked","applyCheckedColorStyle","applyUnCheckedColorStyle","applyColorStyle","VAR_CHECKED_COLOR","VAR_UNCHECKED_COLOR","forceGenerate","hasDecimals","parseFloat","substring","i","StarRatingComponent_Factory","viewQuery","StarRatingComponent_Query","ɵɵviewQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","first","inputs","outputs","consts","StarRatingComponent_Template","ɵɵelement","styles","INP_CHECKED_COLOR","INP_UNCHECKED_COLOR","INP_VALUE","INP_SIZE","INP_READONLY","INP_TOTALSTARS","static","prototype","RatingModule","ngDoBootstrap","RatingModule_Factory","ɵmod","ɵɵdefineNgModule","ɵinj","ɵɵdefineInjector","imports","ngDevMode","ɵsetClassMetadata","args","selector","ShadowDom","declarations","exports","entryComponents","ngJitMode","ɵɵsetNgModuleScope","ɵa"],"sources":["/Users/sabina-mariapintilie/Documents/Angular/MagazinOnline/node_modules/ng-starrating/__ivy_ngcc__/fesm2015/ng-starrating.js"],"sourcesContent":["import { __decorate } from 'tslib';\nimport { Component, EventEmitter, ViewChild, Output, Input, ViewEncapsulation, NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { Subject } from 'rxjs';\n\nimport * as ɵngcc0 from '@angular/core';\n\nconst _c0 = [\"starMain\"];\nlet RatingComponent = class RatingComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n    }\r\n};\nRatingComponent.ɵfac = function RatingComponent_Factory(t) { return new (t || RatingComponent)(); };\nRatingComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: RatingComponent, selectors: [[\"lib-rating\"]], decls: 2, vars: 0, template: function RatingComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"p\");\n        ɵngcc0.ɵɵtext(1, \" rating works! \");\n        ɵngcc0.ɵɵelementEnd();\n    } }, encapsulation: 2 });\n\nvar StarRatingComponent_1;\r\nlet StarRatingComponent = StarRatingComponent_1 = class StarRatingComponent {\r\n    constructor() {\r\n        this.stars = [];\r\n        this._readOnly = false;\r\n        this._totalStars = 5;\r\n        this.rate = new EventEmitter();\r\n        this.onStarsCountChange = new Subject();\r\n        this.onStarsCountChange.subscribe(() => {\r\n            this.setStars();\r\n            this.generateRating(true);\r\n            this.applySizeAllStars();\r\n            this.applyColorStyleAllStars(false);\r\n            this.addEvents();\r\n        });\r\n        this.onValueChange = new Subject();\r\n        this.onValueChange.subscribe(() => {\r\n            this.generateRating();\r\n            this.applySizeAllStars();\r\n        });\r\n        this.onCheckedColorChange = new Subject();\r\n        this.onCheckedColorChange.subscribe(() => {\r\n            this.applyColorStyleAllStars(true);\r\n        });\r\n        this.onUnCheckedColorChange = new Subject();\r\n        this.onUnCheckedColorChange.subscribe(() => {\r\n            this.applyColorStyleAllStars(false);\r\n        });\r\n        this.onSizeChange = new Subject();\r\n        this.onSizeChange.subscribe(() => {\r\n            this.applySizeAllStars();\r\n        });\r\n        this.onReadOnlyChange = new Subject();\r\n        this.onReadOnlyChange.subscribe(() => {\r\n            this.readonly ? this.makeReadOnly() : this.makeEditable();\r\n        });\r\n    }\r\n    get checkedcolor() {\r\n        return this._checkedColor;\r\n    }\r\n    get uncheckedcolor() {\r\n        return this._unCheckedColor;\r\n    }\r\n    get value() {\r\n        return this._value;\r\n    }\r\n    get size() {\r\n        return this._size.concat((!this._size.includes(\"px\") ? \"px\" : \"\"));\r\n    }\r\n    get readonly() {\r\n        return String(this._readOnly) === \"true\";\r\n    }\r\n    get totalstars() {\r\n        return this._totalStars;\r\n    }\r\n    set checkedcolor(value) {\r\n        this._checkedColor = value;\r\n        this._checkedColor && this.onCheckedColorChange.next(this._checkedColor);\r\n    }\r\n    set uncheckedcolor(value) {\r\n        this._unCheckedColor = value;\r\n        this._unCheckedColor && this.onUnCheckedColorChange.next(this._unCheckedColor);\r\n    }\r\n    set value(value) {\r\n        value = (!value || value == null) ? 0 : value;\r\n        this._value = value;\r\n        this._value >= 0 && this.onValueChange.next(this._value);\r\n    }\r\n    set size(value) {\r\n        value = (!value || value == null || value == \"0px\") ? \"24px\" : value;\r\n        this._size = value;\r\n        this.onSizeChange.next(this._size);\r\n    }\r\n    set readonly(value) {\r\n        this._readOnly = value;\r\n        this.onReadOnlyChange.next(value);\r\n    }\r\n    set totalstars(value) {\r\n        this._totalStars = value <= 0 ? 5 : Math.round(value);\r\n        this.onStarsCountChange.next(this._totalStars);\r\n    }\r\n    makeEditable() {\r\n        if (!this.mainElement)\r\n            return;\r\n        this.mainElement.nativeElement.style.cursor = \"pointer\";\r\n        this.mainElement.nativeElement.title = this.value;\r\n        this.stars.forEach((star) => {\r\n            star.style.cursor = \"pointer\";\r\n            star.title = star.dataset.index;\r\n        });\r\n    }\r\n    makeReadOnly() {\r\n        if (!this.mainElement)\r\n            return;\r\n        this.mainElement.nativeElement.style.cursor = \"default\";\r\n        this.mainElement.nativeElement.title = this.value;\r\n        this.stars.forEach((star) => {\r\n            star.style.cursor = \"default\";\r\n            star.title = \"\";\r\n        });\r\n    }\r\n    addEvents() {\r\n        if (!this.mainElement)\r\n            return;\r\n        this.mainElement.nativeElement.addEventListener('mouseleave', this.offStar.bind(this));\r\n        this.mainElement.nativeElement.style.cursor = \"pointer\";\r\n        this.mainElement.nativeElement.title = this.value;\r\n        this.stars.forEach((star) => {\r\n            star.addEventListener('click', this.onRate.bind(this));\r\n            star.addEventListener('mouseenter', this.onStar.bind(this));\r\n            star.style.cursor = \"pointer\";\r\n            star.title = star.dataset.index;\r\n        });\r\n    }\r\n    ngAfterViewInit() {\r\n    }\r\n    onRate(event) {\r\n        if (this.readonly)\r\n            return;\r\n        let star = event.srcElement;\r\n        let oldValue = this.value;\r\n        this.value = parseInt(star.dataset.index);\r\n        // if (this.value == 0) {\r\n        //   this.value = 1;\r\n        // }\r\n        let rateValues = { oldValue: oldValue, newValue: this.value, starRating: this };\r\n        this.rate.emit(rateValues);\r\n    }\r\n    onStar(event) {\r\n        if (this.readonly)\r\n            return;\r\n        let star = event.srcElement;\r\n        let currentIndex = parseInt(star.dataset.index);\r\n        for (let index = 0; index < currentIndex; index++) {\r\n            this.stars[index].className = \"\";\r\n            this.addDefaultClass(this.stars[index]);\r\n            this.addCheckedStarClass(this.stars[index]);\r\n        }\r\n        for (let index = currentIndex; index < this.stars.length; index++) {\r\n            this.stars[index].className = \"\";\r\n            this.addDefaultClass(this.stars[index]);\r\n        }\r\n    }\r\n    offStar(event) {\r\n        this.generateRating();\r\n    }\r\n    addDefaultClass(star) {\r\n        star.classList.add(StarRatingComponent_1.CLS_DEFAULT_STAR);\r\n    }\r\n    addCheckedStarClass(star) {\r\n        star.classList.add(StarRatingComponent_1.CLS_CHECKED_STAR);\r\n    }\r\n    addHalfStarClass(star) {\r\n        star.classList.add(StarRatingComponent_1.CLS_HALF_STAR);\r\n    }\r\n    setStars() {\r\n        if (!this.mainElement)\r\n            return;\r\n        let starContainer = this.mainElement.nativeElement;\r\n        let maxStars = [...Array(Number(this.totalstars)).keys()];\r\n        this.stars.length = 0;\r\n        starContainer.innerHTML = \"\";\r\n        maxStars.forEach(starNumber => {\r\n            let starElement = document.createElement(\"span\");\r\n            starElement.dataset.index = (starNumber + 1).toString();\r\n            starElement.title = starElement.dataset.index;\r\n            starContainer.appendChild(starElement);\r\n            this.stars.push(starElement);\r\n        });\r\n    }\r\n    applySizeAllStars() {\r\n        if (this._size) {\r\n            this.stars.length == 0 && this.setStars();\r\n            this.stars.forEach((star) => {\r\n                let newSize = this.size.match(/\\d+/)[0];\r\n                let halfSize = (parseInt(newSize) * 10) / 24;\r\n                let halfMargin = 0 - ((parseInt(newSize) * 20) / 24);\r\n                star.style.setProperty(StarRatingComponent_1.VAR_SIZE, this.size);\r\n                if (star.classList.contains(StarRatingComponent_1.CLS_HALF_STAR)) {\r\n                    star.style.setProperty(StarRatingComponent_1.VAR_HALF_WIDTH, `${halfSize}px`);\r\n                    star.style.setProperty(StarRatingComponent_1.VAR_HALF_MARGIN, `${halfMargin}px`);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    applyColorStyleAllStars(setChecked) {\r\n        this.stars.length == 0 && this.setStars();\r\n        this.stars.forEach((star) => {\r\n            if (setChecked) {\r\n                this.applyCheckedColorStyle(star);\r\n            }\r\n            else {\r\n                this.applyUnCheckedColorStyle(star);\r\n            }\r\n        });\r\n    }\r\n    applyColorStyle(starElement) {\r\n        this.applyCheckedColorStyle(starElement);\r\n        this.applyUnCheckedColorStyle(starElement);\r\n    }\r\n    applyCheckedColorStyle(starElement) {\r\n        starElement.style.setProperty(StarRatingComponent_1.VAR_CHECKED_COLOR, this.checkedcolor);\r\n    }\r\n    applyUnCheckedColorStyle(starElement) {\r\n        starElement.style.setProperty(StarRatingComponent_1.VAR_UNCHECKED_COLOR, this.uncheckedcolor);\r\n    }\r\n    generateRating(forceGenerate = false) {\r\n        if (!this.mainElement)\r\n            return;\r\n        if (this.readonly && !forceGenerate)\r\n            return;\r\n        //if (this.value >= 0) {\r\n        this.stars.length == 0 && this.setStars();\r\n        this.mainElement.nativeElement.title = this.value;\r\n        let hasDecimals = ((Number.parseFloat(this.value.toString()) % 1)\r\n            .toString()\r\n            .substring(3, 2)) ? true : false;\r\n        let i = 1;\r\n        this.stars.forEach((star) => {\r\n            star.className = \"\";\r\n            this.applyColorStyle(star);\r\n            this.addDefaultClass(star);\r\n            if (this.value >= i) {\r\n                // star on\r\n                this.addCheckedStarClass(star);\r\n            }\r\n            else {\r\n                // half star\r\n                if (hasDecimals) {\r\n                    this.addHalfStarClass(star);\r\n                    hasDecimals = false;\r\n                }\r\n            }\r\n            i++;\r\n        });\r\n        //}\r\n    }\r\n};\nStarRatingComponent.ɵfac = function StarRatingComponent_Factory(t) { return new (t || StarRatingComponent)(); };\nStarRatingComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: StarRatingComponent, selectors: [[\"star-rating\"]], viewQuery: function StarRatingComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c0, 7);\n    } if (rf & 2) {\n        let _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.mainElement = _t.first);\n    } }, inputs: { checkedcolor: \"checkedcolor\", uncheckedcolor: \"uncheckedcolor\", value: \"value\", size: \"size\", readonly: \"readonly\", totalstars: \"totalstars\" }, outputs: { rate: \"rate\" }, decls: 2, vars: 0, consts: [[\"starMain\", \"\"]], template: function StarRatingComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelement(0, \"div\", null, 0);\n    } }, styles: [\":root{--checkedColor:gold;--unCheckedColor:gray;--size:24px;--halfWidth:10px;--halfMargin:-20px}.star{cursor:pointer;color:var(--unCheckedColor);font-size:var(--size);width:var(--size);display:inline-block}.star:last-child{margin-right:0}.star:before{content:'\\\\2605'}.star.on{color:var(--checkedColor)}.star.half:after{content:'\\\\2605';color:var(--checkedColor);position:absolute;margin-left:var(--halfMargin);width:var(--halfWidth);overflow:hidden}\"], encapsulation: 3 });\r\nStarRatingComponent.VAR_CHECKED_COLOR = '--checkedColor';\r\nStarRatingComponent.VAR_UNCHECKED_COLOR = '--unCheckedColor';\r\nStarRatingComponent.VAR_SIZE = '--size';\r\nStarRatingComponent.VAR_HALF_WIDTH = '--halfWidth';\r\nStarRatingComponent.VAR_HALF_MARGIN = '--halfMargin';\r\nStarRatingComponent.CLS_CHECKED_STAR = 'on';\r\nStarRatingComponent.CLS_DEFAULT_STAR = 'star';\r\nStarRatingComponent.CLS_HALF_STAR = 'half';\r\nStarRatingComponent.INP_CHECKED_COLOR = 'checkedcolor';\r\nStarRatingComponent.INP_UNCHECKED_COLOR = 'uncheckedcolor';\r\nStarRatingComponent.INP_VALUE = 'value';\r\nStarRatingComponent.INP_SIZE = 'size';\r\nStarRatingComponent.INP_READONLY = 'readonly';\r\nStarRatingComponent.INP_TOTALSTARS = 'totalstars';\r\n__decorate([\r\n    ViewChild('starMain', { static: true })\r\n], StarRatingComponent.prototype, \"mainElement\", void 0);\r\n__decorate([\r\n    Output()\r\n], StarRatingComponent.prototype, \"rate\", void 0);\r\n__decorate([\r\n    Input(StarRatingComponent_1.INP_CHECKED_COLOR)\r\n], StarRatingComponent.prototype, \"checkedcolor\", null);\r\n__decorate([\r\n    Input(StarRatingComponent_1.INP_UNCHECKED_COLOR)\r\n], StarRatingComponent.prototype, \"uncheckedcolor\", null);\r\n__decorate([\r\n    Input(StarRatingComponent_1.INP_VALUE)\r\n], StarRatingComponent.prototype, \"value\", null);\r\n__decorate([\r\n    Input(StarRatingComponent_1.INP_SIZE)\r\n], StarRatingComponent.prototype, \"size\", null);\r\n__decorate([\r\n    Input(StarRatingComponent_1.INP_READONLY)\r\n], StarRatingComponent.prototype, \"readonly\", null);\r\n__decorate([\r\n    Input(StarRatingComponent_1.INP_TOTALSTARS)\r\n], StarRatingComponent.prototype, \"totalstars\", null);\n\nlet RatingModule = class RatingModule {\r\n    ngDoBootstrap() { }\r\n};\nRatingModule.ɵfac = function RatingModule_Factory(t) { return new (t || RatingModule)(); };\nRatingModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: RatingModule });\nRatingModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ imports: [FormsModule,\n        CommonModule] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(RatingComponent, [{\n        type: Component,\n        args: [{\n                selector: 'lib-rating',\n                template: `\n    <p>\n      rating works!\n    </p>\n  `\n            }]\n    }], function () { return []; }, null); })();\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(StarRatingComponent, [{\n        type: Component,\n        args: [{ selector: 'star-rating', template: \"<div #starMain>\\n</div>\", encapsulation: ViewEncapsulation.ShadowDom, styles: [\":root{--checkedColor:gold;--unCheckedColor:gray;--size:24px;--halfWidth:10px;--halfMargin:-20px}.star{cursor:pointer;color:var(--unCheckedColor);font-size:var(--size);width:var(--size);display:inline-block}.star:last-child{margin-right:0}.star:before{content:'\\\\2605'}.star.on{color:var(--checkedColor)}.star.half:after{content:'\\\\2605';color:var(--checkedColor);position:absolute;margin-left:var(--halfMargin);width:var(--halfWidth);overflow:hidden}\"] }]\n    }], function () { return []; }, { rate: [{\n            type: Output\n        }], checkedcolor: [{\n            type: Input,\n            args: [StarRatingComponent_1.INP_CHECKED_COLOR]\n        }], uncheckedcolor: [{\n            type: Input,\n            args: [StarRatingComponent_1.INP_UNCHECKED_COLOR]\n        }], value: [{\n            type: Input,\n            args: [StarRatingComponent_1.INP_VALUE]\n        }], size: [{\n            type: Input,\n            args: [StarRatingComponent_1.INP_SIZE]\n        }], readonly: [{\n            type: Input,\n            args: [StarRatingComponent_1.INP_READONLY]\n        }], totalstars: [{\n            type: Input,\n            args: [StarRatingComponent_1.INP_TOTALSTARS]\n        }], mainElement: [{\n            type: ViewChild,\n            args: ['starMain', { static: true }]\n        }] }); })();\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(RatingModule, [{\n        type: NgModule,\n        args: [{\n                imports: [\n                    FormsModule,\n                    CommonModule\n                ],\n                declarations: [\n                    RatingComponent,\n                    StarRatingComponent\n                ],\n                exports: [StarRatingComponent],\n                entryComponents: [StarRatingComponent]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(RatingModule, { declarations: function () { return [RatingComponent, StarRatingComponent]; }, imports: function () { return [FormsModule,\n        CommonModule]; }, exports: function () { return [StarRatingComponent]; } }); })();\n\n/*\r\n * Public API Surface of rating\r\n */\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { RatingModule, StarRatingComponent, RatingComponent as ɵa };\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}