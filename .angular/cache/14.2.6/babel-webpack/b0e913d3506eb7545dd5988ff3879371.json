{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.combineLatestInit = exports.combineLatest = void 0;\n\nvar Observable_1 = require(\"../Observable\");\n\nvar argsArgArrayOrObject_1 = require(\"../util/argsArgArrayOrObject\");\n\nvar from_1 = require(\"./from\");\n\nvar identity_1 = require(\"../util/identity\");\n\nvar mapOneOrManyArgs_1 = require(\"../util/mapOneOrManyArgs\");\n\nvar args_1 = require(\"../util/args\");\n\nvar createObject_1 = require(\"../util/createObject\");\n\nvar OperatorSubscriber_1 = require(\"../operators/OperatorSubscriber\");\n\nvar executeSchedule_1 = require(\"../util/executeSchedule\");\n\nfunction combineLatest() {\n  var args = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    args[_i] = arguments[_i];\n  }\n\n  var scheduler = args_1.popScheduler(args);\n  var resultSelector = args_1.popResultSelector(args);\n\n  var _a = argsArgArrayOrObject_1.argsArgArrayOrObject(args),\n      observables = _a.args,\n      keys = _a.keys;\n\n  if (observables.length === 0) {\n    return from_1.from([], scheduler);\n  }\n\n  var result = new Observable_1.Observable(combineLatestInit(observables, scheduler, keys ? function (values) {\n    return createObject_1.createObject(keys, values);\n  } : identity_1.identity));\n  return resultSelector ? result.pipe(mapOneOrManyArgs_1.mapOneOrManyArgs(resultSelector)) : result;\n}\n\nexports.combineLatest = combineLatest;\n\nfunction combineLatestInit(observables, scheduler, valueTransform) {\n  if (valueTransform === void 0) {\n    valueTransform = identity_1.identity;\n  }\n\n  return function (subscriber) {\n    maybeSchedule(scheduler, function () {\n      var length = observables.length;\n      var values = new Array(length);\n      var active = length;\n      var remainingFirstValues = length;\n\n      var _loop_1 = function (i) {\n        maybeSchedule(scheduler, function () {\n          var source = from_1.from(observables[i], scheduler);\n          var hasFirstValue = false;\n          source.subscribe(OperatorSubscriber_1.createOperatorSubscriber(subscriber, function (value) {\n            values[i] = value;\n\n            if (!hasFirstValue) {\n              hasFirstValue = true;\n              remainingFirstValues--;\n            }\n\n            if (!remainingFirstValues) {\n              subscriber.next(valueTransform(values.slice()));\n            }\n          }, function () {\n            if (! --active) {\n              subscriber.complete();\n            }\n          }));\n        }, subscriber);\n      };\n\n      for (var i = 0; i < length; i++) {\n        _loop_1(i);\n      }\n    }, subscriber);\n  };\n}\n\nexports.combineLatestInit = combineLatestInit;\n\nfunction maybeSchedule(scheduler, execute, subscription) {\n  if (scheduler) {\n    executeSchedule_1.executeSchedule(subscription, scheduler, execute);\n  } else {\n    execute();\n  }\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","combineLatestInit","combineLatest","Observable_1","require","argsArgArrayOrObject_1","from_1","identity_1","mapOneOrManyArgs_1","args_1","createObject_1","OperatorSubscriber_1","executeSchedule_1","args","_i","arguments","length","scheduler","popScheduler","resultSelector","popResultSelector","_a","argsArgArrayOrObject","observables","keys","from","result","Observable","values","createObject","identity","pipe","mapOneOrManyArgs","valueTransform","subscriber","maybeSchedule","Array","active","remainingFirstValues","_loop_1","i","source","hasFirstValue","subscribe","createOperatorSubscriber","next","slice","complete","execute","subscription","executeSchedule"],"sources":["/Users/sabina-mariapintilie/Documents/Angular/MagazinOnline/node_modules/rxjs/dist/cjs/internal/observable/combineLatest.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.combineLatestInit = exports.combineLatest = void 0;\nvar Observable_1 = require(\"../Observable\");\nvar argsArgArrayOrObject_1 = require(\"../util/argsArgArrayOrObject\");\nvar from_1 = require(\"./from\");\nvar identity_1 = require(\"../util/identity\");\nvar mapOneOrManyArgs_1 = require(\"../util/mapOneOrManyArgs\");\nvar args_1 = require(\"../util/args\");\nvar createObject_1 = require(\"../util/createObject\");\nvar OperatorSubscriber_1 = require(\"../operators/OperatorSubscriber\");\nvar executeSchedule_1 = require(\"../util/executeSchedule\");\nfunction combineLatest() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var scheduler = args_1.popScheduler(args);\n    var resultSelector = args_1.popResultSelector(args);\n    var _a = argsArgArrayOrObject_1.argsArgArrayOrObject(args), observables = _a.args, keys = _a.keys;\n    if (observables.length === 0) {\n        return from_1.from([], scheduler);\n    }\n    var result = new Observable_1.Observable(combineLatestInit(observables, scheduler, keys\n        ?\n            function (values) { return createObject_1.createObject(keys, values); }\n        :\n            identity_1.identity));\n    return resultSelector ? result.pipe(mapOneOrManyArgs_1.mapOneOrManyArgs(resultSelector)) : result;\n}\nexports.combineLatest = combineLatest;\nfunction combineLatestInit(observables, scheduler, valueTransform) {\n    if (valueTransform === void 0) { valueTransform = identity_1.identity; }\n    return function (subscriber) {\n        maybeSchedule(scheduler, function () {\n            var length = observables.length;\n            var values = new Array(length);\n            var active = length;\n            var remainingFirstValues = length;\n            var _loop_1 = function (i) {\n                maybeSchedule(scheduler, function () {\n                    var source = from_1.from(observables[i], scheduler);\n                    var hasFirstValue = false;\n                    source.subscribe(OperatorSubscriber_1.createOperatorSubscriber(subscriber, function (value) {\n                        values[i] = value;\n                        if (!hasFirstValue) {\n                            hasFirstValue = true;\n                            remainingFirstValues--;\n                        }\n                        if (!remainingFirstValues) {\n                            subscriber.next(valueTransform(values.slice()));\n                        }\n                    }, function () {\n                        if (!--active) {\n                            subscriber.complete();\n                        }\n                    }));\n                }, subscriber);\n            };\n            for (var i = 0; i < length; i++) {\n                _loop_1(i);\n            }\n        }, subscriber);\n    };\n}\nexports.combineLatestInit = combineLatestInit;\nfunction maybeSchedule(scheduler, execute, subscription) {\n    if (scheduler) {\n        executeSchedule_1.executeSchedule(subscription, scheduler, execute);\n    }\n    else {\n        execute();\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}