{"ast":null,"code":"import { ActivatedRoute } from \"@angular/router\";\nimport { BehaviorSubject } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/product.service\";\nimport * as i2 from \"src/app/services/address.service\";\nimport * as i3 from \"src/app/services/cart.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\n\nfunction HomeComponent_div_22_i_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"i\", 30);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_22_i_6_Template_i_click_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const product_r3 = i0.ɵɵnextContext().$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.addToFavourite(product_r3));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction HomeComponent_div_22_i_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"i\", 31);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_22_i_7_Template_i_click_0_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const product_r3 = i0.ɵɵnextContext().$implicit;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.addToFavourite(product_r3));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction HomeComponent_div_22_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"span\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const address_r13 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate3(\"\", address_r13.street, \" \", address_r13.num, \", \", address_r13.city, \"\");\n  }\n}\n\nfunction HomeComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 16)(1, \"div\", 17)(2, \"div\", 14)(3, \"div\", 18);\n    i0.ɵɵelement(4, \"img\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 20);\n    i0.ɵɵtemplate(6, HomeComponent_div_22_i_6_Template, 1, 0, \"i\", 21);\n    i0.ɵɵtemplate(7, HomeComponent_div_22_i_7_Template, 1, 0, \"i\", 22);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 23)(9, \"h5\", 24);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\")(12, \"span\")(13, \"b\");\n    i0.ɵɵtext(14, \"Price:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15);\n    i0.ɵɵpipe(16, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\")(18, \"span\")(19, \"b\");\n    i0.ɵɵtext(20, \"Rating:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"div\")(23, \"b\");\n    i0.ɵɵtext(24, \"Available at: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(25, HomeComponent_div_22_div_25_Template, 3, 3, \"div\", 25);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(26, \"div\", 26)(27, \"button\", 27);\n    i0.ɵɵtext(28, \"Edit\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(29, \"div\", 26)(30, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_22_Template_button_click_30_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r15);\n      const product_r3 = restoredCtx.$implicit;\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.deleteProduct(product_r3.id));\n    });\n    i0.ɵɵtext(31, \"Delete\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(32, \"div\", 29)(33, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_22_Template_button_click_33_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r15);\n      const product_r3 = restoredCtx.$implicit;\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.addToCart(product_r3.id));\n    });\n    i0.ɵɵtext(34, \"Add to Cart\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(35, \"div\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const product_r3 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"src\", product_r3.img, i0.ɵɵsanitizeUrl);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/product/\", product_r3.id, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", product_r3.favorite);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !product_r3.favorite);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(product_r3.name);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(16, 9, product_r3.price), \"\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", product_r3.rating, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", product_r3.address);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/editProduct/\", product_r3.id, \"\");\n  }\n}\n\nexport class HomeComponent {\n  constructor(productService, addressService, cartService, activatedRoute) {\n    this.productService = productService;\n    this.addressService = addressService;\n    this.cartService = cartService;\n    this.products = [];\n    this.addresses = [];\n    this.sortByPriceProducts = [];\n    this.flagName = true;\n    this.flagPrice = true;\n    this.iconColor = 'red';\n    this.min = 0;\n    this.max = 0;\n    this._minFilter = '';\n    this.minValue = new BehaviorSubject('');\n    activatedRoute.params.subscribe(params => {\n      if (params['searchTerm']) {\n        this.products = this.productService.getAllProductsBySearchTerm(params['searchTerm']);\n        this.addresses = this.addressService.getAllAddresses();\n      } else {\n        this.products = productService.getAllProducts();\n        this.addresses = this.addressService.getAllAddresses();\n      }\n    });\n  }\n\n  ngOnInit() {\n    this.minValue.subscribe(success => {});\n  } // openDialog() {\n  //   this.dialog.open(DialogDataExampleDialog, {\n  //     data: {\n  //       animal: 'panda',\n  //     },\n  //   });\n  // }\n\n\n  sortByName() {\n    if (this.flagName) {\n      this.flagName = false;\n      return this.productService.sortProductsByNameAsc();\n    } else {\n      this.flagName = true;\n      return this.productService.sortProductsByNameDesc();\n    }\n  }\n\n  sortByPrice() {\n    if (this.flagPrice) {\n      this.flagPrice = false;\n      return this.productService.sortProductsByPriceAsc();\n    } else {\n      this.flagPrice = true;\n      return this.productService.sortProductsByPriceDesc();\n    }\n  }\n\n  deleteProduct(productId) {\n    const product = this.productService.getProductById(productId);\n    return this.productService.deleteProduct(product);\n  }\n\n  searchMin(min) {\n    this.sortByPriceProducts = [];\n\n    for (let product of this.products) {\n      if (product.price > parseInt(min)) {\n        if (this.sortByPriceProducts.length === 0) {\n          this.sortByPriceProducts.push(product);\n        } else if (this.sortByPriceProducts.length > 0) {\n          this.sortByPriceProducts.push(product);\n        }\n      }\n    }\n\n    this.products = this.sortByPriceProducts;\n  }\n\n  searchMax(max) {\n    for (let product of this.products) {\n      if (product.price < parseInt(max)) {\n        if (this.sortByPriceProducts.length === 0) {\n          this.sortByPriceProducts.push(product);\n        } else if (this.sortByPriceProducts.length > 0) {\n          this.sortByPriceProducts.push(product);\n        }\n      }\n    }\n\n    this.products = this.sortByPriceProducts;\n  }\n\n  addToFavourite(product) {\n    if (product.favorite) product.favorite = false;else product.favorite = true;\n  }\n\n  addToCart(productId) {\n    this.product = this.productService.getProductById(productId);\n    this.cartService.addToCart(this.product);\n  }\n\n}\n\nHomeComponent.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.AddressService), i0.ɵɵdirectiveInject(i3.CartService), i0.ɵɵdirectiveInject(i4.ActivatedRoute));\n};\n\nHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"app-home\"]],\n  decls: 23,\n  vars: 4,\n  consts: [[1, \"navbar-nav\", \"mr-auto\"], [1, \"row\", 2, \"justify-content\", \"center\"], [1, \"col-2\", \"p-1\", 2, \"margin-left\", \"50px\"], [1, \"nav-item\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-secondary\", 3, \"click\"], [1, \"col-2\", \"p-1\"], [1, \"col-1\", \"p-1\"], [\"type\", \"text\", \"placeholder\", \"Min price\", \"aria-label\", \"minPrice\", 1, \"form-control\", \"mr-sm-2\", 2, \"width\", \"120px\", 3, \"ngModel\"], [\"s1\", \"\"], [\"type\", \"text\", \"placeholder\", \"Max price\", \"aria-label\", \"maxPrice\", 1, \"form-control\", \"mr-sm-2\", 2, \"width\", \"120px\", 3, \"keyup.enter\"], [\"s2\", \"\"], [1, \"carousel-inner\", \"py-4\"], [1, \"carousel-item\", \"active\"], [1, \"container\"], [1, \"row\"], [\"class\", \"col-lg-4 p-2\", \"style\", \"justify-content: center;\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-lg-4\", \"p-2\", 2, \"justify-content\", \"center\"], [1, \"card\"], [1, \"col-7\"], [1, \"card-img-top\", 3, \"src\", \"routerLink\"], [1, \"col-5\", \"p-2\"], [\"style\", \"color: rgb(213, 35, 35)\", \"class\", \"fas fa-heart\", 3, \"click\", 4, \"ngIf\"], [\"style\", \"color: rgb(200, 182, 182)\", \"class\", \"fas fa-heart\", 3, \"click\", 4, \"ngIf\"], [1, \"card-body\"], [1, \"card-title\"], [4, \"ngFor\", \"ngForOf\"], [1, \"p-2\"], [\"type\", \"button\", 1, \"btn\", \"btn-light\", 3, \"routerLink\"], [\"type\", \"button\", 1, \"btn\", \"btn-light\", 3, \"click\"], [1, \"p-4\"], [1, \"fas\", \"fa-heart\", 2, \"color\", \"rgb(213, 35, 35)\", 3, \"click\"], [1, \"fas\", \"fa-heart\", 2, \"color\", \"rgb(200, 182, 182)\", 3, \"click\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r17 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"div\")(1, \"ul\", 0)(2, \"div\", 1)(3, \"div\", 2)(4, \"li\", 3)(5, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_5_listener() {\n        return ctx.sortByName();\n      });\n      i0.ɵɵtext(6, \"Sort by Name\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(7, \"div\", 5)(8, \"li\", 3)(9, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_9_listener() {\n        return ctx.sortByPrice();\n      });\n      i0.ɵɵtext(10, \"Sort by Price\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(11, \"div\", 6);\n      i0.ɵɵelement(12, \"input\", 7, 8);\n      i0.ɵɵpipe(14, \"async\");\n      i0.ɵɵelementStart(15, \"input\", 9, 10);\n      i0.ɵɵlistener(\"keyup.enter\", function HomeComponent_Template_input_keyup_enter_15_listener() {\n        i0.ɵɵrestoreView(_r17);\n\n        const _r1 = i0.ɵɵreference(16);\n\n        return i0.ɵɵresetView(ctx.searchMax(_r1.value));\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(17, \"div\", 5);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(18, \"div\", 11)(19, \"div\", 12)(20, \"div\", 13)(21, \"div\", 14);\n      i0.ɵɵtemplate(22, HomeComponent_div_22_Template, 36, 11, \"div\", 15);\n      i0.ɵɵelementEnd()()()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"ngModel\", i0.ɵɵpipeBind1(14, 2, ctx.minValue));\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngForOf\", ctx.products);\n    }\n  },\n  dependencies: [i5.NgForOf, i5.NgIf, i4.RouterLink, i6.DefaultValueAccessor, i6.NgControlStatus, i6.NgModel, i5.AsyncPipe, i5.CurrencyPipe],\n  styles: [\".card-img-top[_ngcontent-%COMP%]{\\n  height: 200px;\\n  width: 200px;\\n}\\n.col-4[_ngcontent-%COMP%]{\\n  border: 1px solid rgb(138, 129, 129);\\n  border-radius:5%;\\n  margin: 1px;\\n}\\n.fas.fa-heart[_ngcontent-%COMP%]{\\n  color: #ccc;\\n  font-size: 30px;\\n  margin: 30px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhvbWUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQWE7RUFDYixZQUFZO0FBQ2Q7QUFDQTtFQUNFLG9DQUFvQztFQUNwQyxnQkFBZ0I7RUFDaEIsV0FBVztBQUNiO0FBQ0E7RUFDRSxXQUFXO0VBQ1gsZUFBZTtFQUNmLFlBQVk7QUFDZCIsImZpbGUiOiJob21lLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY2FyZC1pbWctdG9we1xuICBoZWlnaHQ6IDIwMHB4O1xuICB3aWR0aDogMjAwcHg7XG59XG4uY29sLTR7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHJnYigxMzgsIDEyOSwgMTI5KTtcbiAgYm9yZGVyLXJhZGl1czo1JTtcbiAgbWFyZ2luOiAxcHg7XG59XG4uZmFzLmZhLWhlYXJ0e1xuICBjb2xvcjogI2NjYztcbiAgZm9udC1zaXplOiAzMHB4O1xuICBtYXJnaW46IDMwcHg7XG59XG5cbiJdfQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["ActivatedRoute","BehaviorSubject","i0","HomeComponent","constructor","productService","addressService","cartService","activatedRoute","params","subscribe","products","getAllProductsBySearchTerm","addresses","getAllAddresses","getAllProducts","ngOnInit","minValue","success","sortByName","flagName","sortProductsByNameAsc","sortProductsByNameDesc","sortByPrice","flagPrice","sortProductsByPriceAsc","sortProductsByPriceDesc","deleteProduct","productId","product","getProductById","searchMin","min","sortByPriceProducts","price","parseInt","length","push","searchMax","max","addToFavourite","favorite","addToCart","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/sabina-mariapintilie/Documents/Angular/MagazinOnline/src/app/components/home/home.component.ts","/Users/sabina-mariapintilie/Documents/Angular/MagazinOnline/src/app/components/home/home.component.html"],"sourcesContent":["import { Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChange, SimpleChanges } from \"@angular/core\";\nimport { ActivatedRoute, NavigationEnd } from \"@angular/router\";\nimport { StarRatingComponent } from \"ng-starrating\";\nimport { AddressService } from \"src/app/services/address.service\";\nimport { ProductService } from \"src/app/services/product.service\";\nimport { Address } from \"src/app/models/address.model\";\nimport { Product } from \"src/app/models/product.model\";\nimport { CartService } from \"src/app/services/cart.service\";\nimport { BehaviorSubject } from \"rxjs\";\n\n@Component({\n  selector:'app-home',\n  templateUrl:'./home.component.html',\n  styleUrls:['./home.component.css']\n})\nexport class HomeComponent implements OnInit{\n  products:Product[] = [];\n  addresses: Address[] = [];\n  newProduct!: Product;\n  product!: Product;\n  sortByPriceProducts: Array<Product> = [];\n  flagName : boolean = true;\n  flagPrice : boolean = true;\n  iconColor: string = 'red';\n  min: number = 0;\n  max: number = 0;\n  prd!: Product;\n  \n  private _minFilter = '';\n\n  minValue = new BehaviorSubject('');\n  \n  constructor(\n    private productService:ProductService,\n    private addressService: AddressService,\n    private cartService: CartService, \n    activatedRoute:ActivatedRoute\n    ){\n      activatedRoute.params.subscribe((params) => {\n        if(params['searchTerm']){\n          this.products = this.productService.getAllProductsBySearchTerm(params['searchTerm']);\n          this.addresses = this.addressService.getAllAddresses();\n        }else{\n          this.products = productService.getAllProducts();\n          this.addresses = this.addressService.getAllAddresses();\n        }\n      })\n  }\n  ngOnInit(): void {\n    this.minValue.subscribe(success => {\n\n    });\n  }\n\n  // openDialog() {\n  //   this.dialog.open(DialogDataExampleDialog, {\n  //     data: {\n  //       animal: 'panda',\n  //     },\n  //   });\n  // }\n\n  sortByName(){\n    if(this.flagName){\n      this.flagName = false;\n      return this.productService.sortProductsByNameAsc();\n    }else{\n      this.flagName = true \n      return this.productService.sortProductsByNameDesc();\n    }\n  }\n  sortByPrice(){\n    if(this.flagPrice){\n      this.flagPrice = false;\n      return this.productService.sortProductsByPriceAsc();\n    }else{\n      this.flagPrice = true \n      return this.productService.sortProductsByPriceDesc();\n    }\n  }\n\n  deleteProduct(productId:string){\n    const product = this.productService.getProductById(productId);\n    return this.productService.deleteProduct(product);\n  }\n\n  searchMin(min:string){\n    this.sortByPriceProducts = []\n\n    for(let product of this.products){\n      if(product.price > parseInt(min)){\n        if(this.sortByPriceProducts.length === 0){\n          this.sortByPriceProducts.push(product);\n        }else if(this.sortByPriceProducts.length > 0 ){\n          this.sortByPriceProducts.push(product);\n        } \n      }\n    }\n    this.products = this.sortByPriceProducts\n  }\n\n  searchMax(max:string){\n    for(let product of this.products){\n      if(product.price < parseInt(max)){\n        if(this.sortByPriceProducts.length === 0){\n          this.sortByPriceProducts.push(product)\n        }else if(this.sortByPriceProducts.length > 0 ){\n          this.sortByPriceProducts.push(product);\n        }  \n      }\n    }\n    this.products = this.sortByPriceProducts\n  }\n\n  addToFavourite(product: Product){\n    if(product.favorite)\n      product.favorite = false\n    else\n      product.favorite = true\n  }\n\n  addToCart(productId:string){\n    this.product = this.productService.getProductById(productId)\n    this.cartService.addToCart(this.product);\n  }\n\n  \n}\n\n","<div>\n  <ul class=\"navbar-nav mr-auto\">\n    <div class=\"row\" style=\"justify-content: center;\">\n      <div class=\"col-2 p-1\" style=\"margin-left: 50px;\">\n        <li class=\"nav-item\">\n          <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"sortByName()\">Sort by Name</button>\n        </li>\n      </div>\n      \n      <div class=\"col-2 p-1\">\n        <li class=\"nav-item\">\n          <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"sortByPrice()\">Sort by Price</button>\n        </li>\n      </div>\n\n      <div class=\"col-1 p-1\">\n        <input #s1 class=\"form-control mr-sm-2\"  style=\"width: 120px\" type=\"text\" placeholder=\"Min price\" aria-label=\"minPrice\" [ngModel]=\"minValue | async\">\n        <input #s2 class=\"form-control mr-sm-2\"  style=\"width: 120px\" type=\"text\" placeholder=\"Max price\" aria-label=\"maxPrice\" (keyup.enter)=\"searchMax(s2.value)\">\n      </div>\n      <div class=\"col-2 p-1\">\n        <!-- <button class=\"btn btn-outline-success\" (click)=\"searchPriceRange(s1.value, s2.value)\">Find items in this range</button> -->\n      </div>\n    </div>\n  </ul>\n  <div class=\"carousel-inner py-4\">\n    <div class=\"carousel-item active\">\n      <div class=\"container\">\n        <div class=\"row\">\n          <div *ngFor=\"let product of products\" class=\"col-lg-4 p-2\" style=\"justify-content: center;\">\n            <div class=\"card\">\n              <div class=\"row\">\n                <div class=\"col-7\">\n                  <img\n                    src=\"{{product.img}}\"\n                    class=\"card-img-top\"\n                    routerLink = \"/product/{{product.id}}\"/>\n                </div>\n                <div class=\"col-5 p-2\">\n                  <i *ngIf=\"product.favorite\" style=\"color: rgb(213, 35, 35)\" class=\"fas fa-heart\" (click)=\"addToFavourite(product)\"></i>\n                  <i *ngIf=\"!product.favorite\" style=\"color: rgb(200, 182, 182)\" class=\"fas fa-heart\" (click)=\"addToFavourite(product)\"></i>\n                </div>\n                \n                  \n              </div>\n              <div class=\"card-body\" >\n                <h5 class=\"card-title\">{{product.name}}</h5>\n                <div>\n                  <span><b>Price:</b> {{product.price | currency}}</span>\n                </div>\n                <div>\n                  <span><b>Rating:</b> {{product.rating}}</span>\n                </div>\n              \n                <div><b>Available at: </b>\n                  <div *ngFor=\"let address of product.address\">\n                    <span>{{address.street}} {{address.num}}, {{address.city}}</span>\n                  </div>\n                </div>\n                \n                  \n                </div>\n                <div class=\"p-2\">\n                  <button routerLink=\"/editProduct/{{product.id}}\" type=\"button\" class=\"btn btn-light\">Edit</button>\n                </div>\n                <div class=\"p-2\">\n                  <button type=\"button\" class=\"btn btn-light\" (click)=\"deleteProduct(product.id)\">Delete</button>\n                </div>\n                <div class=\"p-4\" >\n                  <button type=\"button\" class=\"btn btn-light\" (click)=\"addToCart(product.id)\">Add to Cart</button>\n                </div>\n                \n                <div>\n                  <!-- <button mat-button (click)=\"openDialog()\">Open dialog</button> -->\n                </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n  \n"]},"metadata":{},"sourceType":"module"}