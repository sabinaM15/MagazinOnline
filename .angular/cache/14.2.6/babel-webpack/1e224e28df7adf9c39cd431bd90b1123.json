{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.forkJoin = void 0;\n\nvar Observable_1 = require(\"../Observable\");\n\nvar argsArgArrayOrObject_1 = require(\"../util/argsArgArrayOrObject\");\n\nvar innerFrom_1 = require(\"./innerFrom\");\n\nvar args_1 = require(\"../util/args\");\n\nvar OperatorSubscriber_1 = require(\"../operators/OperatorSubscriber\");\n\nvar mapOneOrManyArgs_1 = require(\"../util/mapOneOrManyArgs\");\n\nvar createObject_1 = require(\"../util/createObject\");\n\nfunction forkJoin() {\n  var args = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    args[_i] = arguments[_i];\n  }\n\n  var resultSelector = args_1.popResultSelector(args);\n\n  var _a = argsArgArrayOrObject_1.argsArgArrayOrObject(args),\n      sources = _a.args,\n      keys = _a.keys;\n\n  var result = new Observable_1.Observable(function (subscriber) {\n    var length = sources.length;\n\n    if (!length) {\n      subscriber.complete();\n      return;\n    }\n\n    var values = new Array(length);\n    var remainingCompletions = length;\n    var remainingEmissions = length;\n\n    var _loop_1 = function (sourceIndex) {\n      var hasValue = false;\n      innerFrom_1.innerFrom(sources[sourceIndex]).subscribe(OperatorSubscriber_1.createOperatorSubscriber(subscriber, function (value) {\n        if (!hasValue) {\n          hasValue = true;\n          remainingEmissions--;\n        }\n\n        values[sourceIndex] = value;\n      }, function () {\n        return remainingCompletions--;\n      }, undefined, function () {\n        if (!remainingCompletions || !hasValue) {\n          if (!remainingEmissions) {\n            subscriber.next(keys ? createObject_1.createObject(keys, values) : values);\n          }\n\n          subscriber.complete();\n        }\n      }));\n    };\n\n    for (var sourceIndex = 0; sourceIndex < length; sourceIndex++) {\n      _loop_1(sourceIndex);\n    }\n  });\n  return resultSelector ? result.pipe(mapOneOrManyArgs_1.mapOneOrManyArgs(resultSelector)) : result;\n}\n\nexports.forkJoin = forkJoin;","map":{"version":3,"names":["Object","defineProperty","exports","value","forkJoin","Observable_1","require","argsArgArrayOrObject_1","innerFrom_1","args_1","OperatorSubscriber_1","mapOneOrManyArgs_1","createObject_1","args","_i","arguments","length","resultSelector","popResultSelector","_a","argsArgArrayOrObject","sources","keys","result","Observable","subscriber","complete","values","Array","remainingCompletions","remainingEmissions","_loop_1","sourceIndex","hasValue","innerFrom","subscribe","createOperatorSubscriber","undefined","next","createObject","pipe","mapOneOrManyArgs"],"sources":["/Users/sabina-mariapintilie/Documents/Angular/MagazinOnline/node_modules/rxjs/dist/cjs/internal/observable/forkJoin.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.forkJoin = void 0;\nvar Observable_1 = require(\"../Observable\");\nvar argsArgArrayOrObject_1 = require(\"../util/argsArgArrayOrObject\");\nvar innerFrom_1 = require(\"./innerFrom\");\nvar args_1 = require(\"../util/args\");\nvar OperatorSubscriber_1 = require(\"../operators/OperatorSubscriber\");\nvar mapOneOrManyArgs_1 = require(\"../util/mapOneOrManyArgs\");\nvar createObject_1 = require(\"../util/createObject\");\nfunction forkJoin() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var resultSelector = args_1.popResultSelector(args);\n    var _a = argsArgArrayOrObject_1.argsArgArrayOrObject(args), sources = _a.args, keys = _a.keys;\n    var result = new Observable_1.Observable(function (subscriber) {\n        var length = sources.length;\n        if (!length) {\n            subscriber.complete();\n            return;\n        }\n        var values = new Array(length);\n        var remainingCompletions = length;\n        var remainingEmissions = length;\n        var _loop_1 = function (sourceIndex) {\n            var hasValue = false;\n            innerFrom_1.innerFrom(sources[sourceIndex]).subscribe(OperatorSubscriber_1.createOperatorSubscriber(subscriber, function (value) {\n                if (!hasValue) {\n                    hasValue = true;\n                    remainingEmissions--;\n                }\n                values[sourceIndex] = value;\n            }, function () { return remainingCompletions--; }, undefined, function () {\n                if (!remainingCompletions || !hasValue) {\n                    if (!remainingEmissions) {\n                        subscriber.next(keys ? createObject_1.createObject(keys, values) : values);\n                    }\n                    subscriber.complete();\n                }\n            }));\n        };\n        for (var sourceIndex = 0; sourceIndex < length; sourceIndex++) {\n            _loop_1(sourceIndex);\n        }\n    });\n    return resultSelector ? result.pipe(mapOneOrManyArgs_1.mapOneOrManyArgs(resultSelector)) : result;\n}\nexports.forkJoin = forkJoin;\n"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,QAAR,GAAmB,KAAK,CAAxB;;AACA,IAAIC,YAAY,GAAGC,OAAO,CAAC,eAAD,CAA1B;;AACA,IAAIC,sBAAsB,GAAGD,OAAO,CAAC,8BAAD,CAApC;;AACA,IAAIE,WAAW,GAAGF,OAAO,CAAC,aAAD,CAAzB;;AACA,IAAIG,MAAM,GAAGH,OAAO,CAAC,cAAD,CAApB;;AACA,IAAII,oBAAoB,GAAGJ,OAAO,CAAC,iCAAD,CAAlC;;AACA,IAAIK,kBAAkB,GAAGL,OAAO,CAAC,0BAAD,CAAhC;;AACA,IAAIM,cAAc,GAAGN,OAAO,CAAC,sBAAD,CAA5B;;AACA,SAASF,QAAT,GAAoB;EAChB,IAAIS,IAAI,GAAG,EAAX;;EACA,KAAK,IAAIC,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGC,SAAS,CAACC,MAAhC,EAAwCF,EAAE,EAA1C,EAA8C;IAC1CD,IAAI,CAACC,EAAD,CAAJ,GAAWC,SAAS,CAACD,EAAD,CAApB;EACH;;EACD,IAAIG,cAAc,GAAGR,MAAM,CAACS,iBAAP,CAAyBL,IAAzB,CAArB;;EACA,IAAIM,EAAE,GAAGZ,sBAAsB,CAACa,oBAAvB,CAA4CP,IAA5C,CAAT;EAAA,IAA4DQ,OAAO,GAAGF,EAAE,CAACN,IAAzE;EAAA,IAA+ES,IAAI,GAAGH,EAAE,CAACG,IAAzF;;EACA,IAAIC,MAAM,GAAG,IAAIlB,YAAY,CAACmB,UAAjB,CAA4B,UAAUC,UAAV,EAAsB;IAC3D,IAAIT,MAAM,GAAGK,OAAO,CAACL,MAArB;;IACA,IAAI,CAACA,MAAL,EAAa;MACTS,UAAU,CAACC,QAAX;MACA;IACH;;IACD,IAAIC,MAAM,GAAG,IAAIC,KAAJ,CAAUZ,MAAV,CAAb;IACA,IAAIa,oBAAoB,GAAGb,MAA3B;IACA,IAAIc,kBAAkB,GAAGd,MAAzB;;IACA,IAAIe,OAAO,GAAG,UAAUC,WAAV,EAAuB;MACjC,IAAIC,QAAQ,GAAG,KAAf;MACAzB,WAAW,CAAC0B,SAAZ,CAAsBb,OAAO,CAACW,WAAD,CAA7B,EAA4CG,SAA5C,CAAsDzB,oBAAoB,CAAC0B,wBAArB,CAA8CX,UAA9C,EAA0D,UAAUtB,KAAV,EAAiB;QAC7H,IAAI,CAAC8B,QAAL,EAAe;UACXA,QAAQ,GAAG,IAAX;UACAH,kBAAkB;QACrB;;QACDH,MAAM,CAACK,WAAD,CAAN,GAAsB7B,KAAtB;MACH,CANqD,EAMnD,YAAY;QAAE,OAAO0B,oBAAoB,EAA3B;MAAgC,CANK,EAMHQ,SANG,EAMQ,YAAY;QACtE,IAAI,CAACR,oBAAD,IAAyB,CAACI,QAA9B,EAAwC;UACpC,IAAI,CAACH,kBAAL,EAAyB;YACrBL,UAAU,CAACa,IAAX,CAAgBhB,IAAI,GAAGV,cAAc,CAAC2B,YAAf,CAA4BjB,IAA5B,EAAkCK,MAAlC,CAAH,GAA+CA,MAAnE;UACH;;UACDF,UAAU,CAACC,QAAX;QACH;MACJ,CAbqD,CAAtD;IAcH,CAhBD;;IAiBA,KAAK,IAAIM,WAAW,GAAG,CAAvB,EAA0BA,WAAW,GAAGhB,MAAxC,EAAgDgB,WAAW,EAA3D,EAA+D;MAC3DD,OAAO,CAACC,WAAD,CAAP;IACH;EACJ,CA7BY,CAAb;EA8BA,OAAOf,cAAc,GAAGM,MAAM,CAACiB,IAAP,CAAY7B,kBAAkB,CAAC8B,gBAAnB,CAAoCxB,cAApC,CAAZ,CAAH,GAAsEM,MAA3F;AACH;;AACDrB,OAAO,CAACE,QAAR,GAAmBA,QAAnB"},"metadata":{},"sourceType":"script"}